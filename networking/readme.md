**Linux Networking**

![](media/3a20fa936236aeee549cea15baf3be50.png)

Net1 – 192.168.1.0/24

Net2 – 10.66.27.0/24

Net3 – 10.10.66.0/24

Net4 – 172.16.27.0/24

1.  **На Server_1 налаштувати статичні адреси на всіх інтерфейсах.**

![](media/043562ce49206eaafdfdd070a387eb33.png)

2.  **На Server_1 налаштувати DHCP сервіс, який буде конфігурувати адреси Int1 Client_1 та Client_2**

![](media/e6c42589adcd7900bda6934f3b0a3975.png)

3.  **За допомогою команд ping та traceroute перевірити зв'язок між віртуальними машинами. Результат пояснити. Увага! Для того, щоб з Client_1 та Client_2 проходили пакети в мережу Internet (точніше щоб повертались з Internet на Client_1 та Client_2) на Wi-Fi Router необхідно налаштувати статичні маршрути для мереж Net2 та Net3.**

![](media/fe863a9880e74d2b699d1bd1ed09b0cc.png)

![](media/ccc45a50d13206b5bada0954e21ea03d.png)

![](media/fb6fd6ed55e03e59b75f96c02e9d2fb0.png)

4.  **На віртуальному інтерфейсу lo Client_1 призначити дві ІР адреси за таким правилом: 172.17.D+10.1/24 та 172.17.D+20.1/24. Налаштувати маршрутизацію таким чином, щоб трафік з Client_2 до 172.17.D+10.1 проходив через Server_1, а до 172.17.D+20.1 через Net4. Для перевірки використати traceroute**

![](media/ca7880b7389ee413a3e70338284adc4c.png)

![](media/6e27efd84f69c7d31939dd2b893ebc77.png)

5.  **Розрахувати спільну адресу та маску (summarizing) адрес 172.17.D+10.1 та 172.17.D+20.1, при чому префікс має бути максимально можливим. Видалити маршрути, встановлені на попередньому кроці та замінити їх об’єднаним маршрутом, якій має проходити через Server_1.**

![](media/026c4fbc2ac8f8d28af406681f1c3244.png)

![](media/aea7973ea2a2ca333e9d21f070f3b6f8.png)

![](media/b63fed332115aa0db7ad51025936238d.png)

6.  **Налаштувати SSH сервіс таким чином, щоб Client_1 та Client_2 могли підключатись до Server_1 та один до одного.**

![](media/30939febce8ce579064ac5d8330d7fbe.png)

![](media/738ac4131e3cf11ab71808229b01f0eb.png)

7.  **Налаштуйте на Server_1 firewall таким чином: • Дозволено підключатись через SSH з Client_1 та заборонено з Client_2 • З Client_2 на 172.17.D+10.1 ping проходив, а на 172.17.D+20.1 не проходив.**

**![](media/6676c4f93e1796259512f50ebffed487.png)**

![](media/ed028e0e8ae6a2324d2f541720d1f4ef.png)

![](media/61d0c9d67ed1981c3b5525c220b18c19.png)

8.  **Якщо в п.3 була налаштована маршрутизація для доступу Client_1 та Client_2 до мережі Інтернет – видалити відповідні записи. На Server_1 налаштувати NAT сервіс таким чином, щоб з Client_1 та Client_2 проходив ping в мережу Інтернет.**

![](media/d84674bb2fe5a0bdc6288784af050847.png)

![](media/ad7acc051914fc6feb5b92c978b7e758.png)

![](media/172cde1e1e235680c30f297307001fcb.png)
